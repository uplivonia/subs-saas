(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[783],{2132:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/channels",function(){return s(1617)}])},2588:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var n=s(5893),a=s(1664),l=s.n(a),i=s(1163);let r=[{href:"/app/dashboard",label:"Dashboard"},{href:"/app/channels",label:"Channels"},{href:"/app/settings",label:"Settings"}];function c(e){let{title:t,children:s}=e,a=(0,i.useRouter)();return(0,n.jsxs)("div",{className:"min-h-screen bg-slate-50 text-slate-900 flex",children:[(0,n.jsxs)("aside",{className:"w-60 border-r border-slate-200 bg-white flex flex-col",children:[(0,n.jsx)("div",{className:"px-5 py-4 border-b border-slate-200",children:(0,n.jsxs)(l(),{href:"/",className:"text-lg font-bold tracking-tight",children:["subs",(0,n.jsx)("span",{className:"text-indigo-600",children:".saas"})]})}),(0,n.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1",children:r.map(e=>{let t=a.pathname.startsWith(e.href);return(0,n.jsx)(l(),{href:e.href,className:"block px-3 py-2 rounded-lg text-sm ".concat(t?"bg-indigo-50 text-indigo-700 font-medium":"text-slate-600 hover:bg-slate-100"),children:e.label},e.href)})}),(0,n.jsxs)("div",{className:"px-4 py-4 border-t border-slate-200 text-xs text-slate-500",children:[(0,n.jsx)("div",{children:"Logged in as"}),(0,n.jsx)("div",{className:"font-medium",children:"Creator"})]})]}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,n.jsxs)("header",{className:"h-14 border-b border-slate-200 bg-white flex items-center justify-between px-6",children:[(0,n.jsx)("div",{className:"text-sm font-medium text-slate-700",children:t||"Dashboard"}),(0,n.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[(0,n.jsx)("span",{className:"hidden sm:inline",children:"fanstero.netlify.app"}),(0,n.jsx)("span",{className:"w-8 h-8 rounded-full bg-indigo-500 text-white flex items-center justify-center text-xs font-semibold",children:"CR"})]})]}),(0,n.jsx)("main",{className:"flex-1 px-6 py-6",children:s})]})]})}},1617:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var n=s(5893),a=s(2588),l=s(1664),i=s.n(l),r=s(7294);function c(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("token");if(!e){t([]),l(!1);return}let s=await fetch("".concat("https://subs-saas.onrender.com/api/v1","/projects/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!s.ok){console.error("Failed to load projects:",await s.text()),t([]),l(!1);return}let n=await s.json();t(n)}catch(e){console.error("Network error while loading projects:",e),t([])}finally{l(!1)}})()},[]),(0,n.jsx)(a.Z,{title:"Your channels",children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Your channels"}),(0,n.jsx)(i(),{href:"/app/channels/new",className:"inline-flex items-center px-4 py-2 rounded-xl bg-indigo-600 text-white text-sm font-medium hover:bg-indigo-700 transition-colors",children:"+ Add channel"})]}),s&&(0,n.jsx)("p",{className:"text-slate-500 text-sm",children:"Loading your channels…"}),!s&&e&&0===e.length&&(0,n.jsx)("p",{className:"text-slate-500 text-sm",children:"You don't have any connected channels yet."}),!s&&e&&e.length>0&&(0,n.jsx)("div",{className:"space-y-4",children:e.map(e=>{var t,s;let a=e.telegram_channel_id?"connected":null!==(s=null===(t=e.settings)||void 0===t?void 0:t.status)&&void 0!==s?s:"pending";return(0,n.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl p-4 shadow-sm flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-sm font-semibold text-slate-900",children:e.title||"Unnamed channel"}),(0,n.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Channel ID:"," ",e.telegram_channel_id?e.telegram_channel_id:"not linked yet"]}),(0,n.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Status:"," ",(0,n.jsx)("span",{className:"connected"===a?"text-emerald-600 font-medium":"text-amber-600 font-medium",children:a})]})]}),(0,n.jsx)(i(),{href:"/app/channels/".concat(e.id),className:"text-xs font-medium text-indigo-600 hover:text-indigo-700",children:"Configure →"})]},e.id)})})]})})}},1163:function(e,t,s){e.exports=s(9090)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=2132)}),_N_E=e.O()}]);